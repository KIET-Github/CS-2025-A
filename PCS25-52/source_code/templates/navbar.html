{% load static %}


<header>
  {% if messages %}
  {% for message in messages %}
  <script> alert('{{ message }}');
  </script>
      {{message}}
  </div>
  {% endfor %}
{% endif %}

    <nav class="navbar">
        <a href="{% url 'home' %}" class="nav_logo cc"><img src="{% static 'images/logo_img.png'%}" alt="" width="36px" height="36px" style="margin-right: 10px;"> Flowstate</a>
        <div class="nav_user cc">
        {% if request.user.is_authenticated %}
            <div class="user_img"><img src="{% static 'images/user_image.png'%}" alt="" width="36px" height="36px"></div>
                <!-- <div class="user"> -->
                    <!-- <a class="name" href="#"></a><br> -->
                    <!-- <a class="user_name" href="#">{{user.username}}</a> -->
                <!-- </div> -->
            
                <!-- <div class="dropdown">
                  <button class="dropbtn">
                    <div class="dropdown_icon"><i class="fa-solid fa-caret-down"></i></div>
                  </button>
                  <div class="dropdown-content">
                    <a href="/logout">Log Out</a>
                  </div>
                </div> -->
                <div class="dropdown">
                  <button class="dropbtn user user_name" onclick="myFunction()">{{user.username}}
                    <i class="fa fa-caret-down"></i>
                  </button>
                  <div class="dropdown-content" id="myDropdown">
                    <a href="#">Profile</a>
                    <a href="{% url 'logout' %}">Logout</a>
                  </div>
                  </div> 
            
        {% else %}
            <a href="{% url 'login' %}" class="user">
                <img src="{% static 'images/avatar.svg'%}"alt="" width="36px" height="36px" />
                <p>Login</p>
            </a>
        {% endif %}
        </div>
    </nav>
</header>
<!-- </head>
<body> -->
<!-- 
<div class="navbar">
  <a href="#home">Home</a>
  <a href="#news">News</a>

</div>

<h3>Dropdown Menu inside a Navigation Bar</h3>
<p>Click on the "Dropdown" link to see the dropdown menu.</p>

</body>
</html> -->
<script>
/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function myFunction() {
  document.getElementById("myDropdown").classList.toggle("show");
}

// Close the dropdown if the user clicks outside of it
window.onclick = function(e) {
  if (!e.target.matches('.dropbtn')) {
  var myDropdown = document.getElementById("myDropdown");
    if (myDropdown.classList.contains('show')) {
      myDropdown.classList.remove('show');
    }
  }
}
</script>
